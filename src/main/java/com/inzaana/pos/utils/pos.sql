-- phpMyAdmin SQL Dump
-- version 4.2.11
-- http://www.phpmyadmin.net
--
-- Host: 127.0.0.1
-- Generation Time: Oct 15, 2015 at 05:56 PM
-- Server version: 5.6.21
-- PHP Version: 5.6.3

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `inzaanapos`
--

-- --------------------------------------------------------

--
-- Table structure for table USERS
--

CREATE TABLE USERNAME (
    ID int NOT NULL AUTO_INCREMENT,
    NAME VARCHAR(255) NOT NULL,
    PRIMARY KEY (ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE UNIQUE INDEX USERS_NAME_INX ON USERNAME(NAME);

CREATE TABLE USERS (
    ID int NOT NULL AUTO_INCREMENT,
    USER_ID VARCHAR(255) NOT NULL,
    NAME int NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    ROLE VARCHAR(255) NOT NULL,
    PRIMARY KEY (ID),
    CONSTRAINT USERS_FK_1 FOREIGN KEY (NAME) REFERENCES USERNAME(ID)
    ON DELETE CASCADE 
    ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE UNIQUE INDEX USERS_ID_INX ON USERS(USER_ID);

-- --------------------------------------------------------

--
-- Table structure for table CATEGORIES
--

CREATE TABLE CATEGORIES (
	CATEGORY_ID int NOT NULL AUTO_INCREMENT,
    ID VARCHAR(255) NOT NULL,
    USER_ID int NOT NULL,
    NAME VARCHAR(255) NOT NULL,
    PARENTID VARCHAR(255),
    IMAGE MEDIUMBLOB,
    TEXTTIP VARCHAR(255) DEFAULT NULL,
    CATSHOWNAME SMALLINT DEFAULT b'1' NOT NULL,
    PRIMARY KEY (CATEGORY_ID),
    CONSTRAINT CATEGORIES_FK_1 FOREIGN KEY (USER_ID) REFERENCES USERNAME(ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE UNIQUE INDEX CATEGORIES_NAME_INX ON CATEGORIES(NAME);

-- --------------------------------------------------------

--
-- Table structure for table PRODUCTS
--

CREATE TABLE PRODUCTS (
	PRODUCT_ID int NOT NULL AUTO_INCREMENT,
    ID VARCHAR(255) NOT NULL,
    USER_ID int NOT NULL,
    REFERENCE VARCHAR(255) NOT NULL,
    CODE VARCHAR(255) NOT NULL,
    CODETYPE VARCHAR(255),
    NAME VARCHAR(255) NOT NULL,
    PRICEBUY DOUBLE DEFAULT 0 NOT NULL,
    PRICESELL DOUBLE DEFAULT 0 NOT NULL,
    CATEGORY VARCHAR(255) NOT NULL,
    TAXCAT VARCHAR(255) NOT NULL,
    ATTRIBUTESET_ID VARCHAR(255),
    STOCKCOST DOUBLE DEFAULT 0 NOT NULL,
    STOCKVOLUME DOUBLE DEFAULT 0 NOT NULL,
    IMAGE MEDIUMBLOB,
    ISCOM BIT DEFAULT b'0' NOT NULL,
    ISSCALE BIT DEFAULT b'0' NOT NULL,
    ISKITCHEN BIT DEFAULT b'0' NOT NULL,
    PRINTKB BIT DEFAULT b'0' NOT NULL,
    SENDSTATUS BIT DEFAULT b'0' NOT NULL,
    ISSERVICE BIT DEFAULT b'0' NOT NULL,
    ATTRIBUTES MEDIUMBLOB,
    DISPLAY VARCHAR(255),
    ISVPRICE SMALLINT DEFAULT b'0' NOT NULL,
    ISVERPATRIB SMALLINT DEFAULT b'0' NOT NULL,
    TEXTTIP VARCHAR(255) DEFAULT '',
    WARRANTY SMALLINT DEFAULT b'0' NOT NULL,
    STOCKUNITS DOUBLE DEFAULT 0 NOT NULL,
    PRIMARY KEY (PRODUCT_ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE UNIQUE INDEX PRODUCTS_INX_0 ON PRODUCTS(REFERENCE);
CREATE UNIQUE INDEX PRODUCTS_INX_1 ON PRODUCTS(CODE);
CREATE UNIQUE INDEX PRODUCTS_NAME_INX ON PRODUCTS(NAME);

-- --------------------------------------------------------

--
-- Table structure for table STOCKDIARY
--

CREATE TABLE STOCKDIARY (
	STOCK_ID int NOT NULL AUTO_INCREMENT,
    ID VARCHAR(255) NOT NULL,
    USER_ID int NOT NULL,
    DATENEW VARCHAR(255) NOT NULL,
    REASON INTEGER NOT NULL,
    LOCATION VARCHAR(255) NOT NULL,
    PRODUCT VARCHAR(255) NOT NULL,
    ATTRIBUTESETINSTANCE_ID VARCHAR(255),
    UNITS DOUBLE NOT NULL,
    PRICE DOUBLE NOT NULL,
    APPUSER VARCHAR(255),
    PRIMARY KEY (STOCK_ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE INDEX STOCKDIARY_INX_1 ON STOCKDIARY(DATENEW);

-- --------------------------------------------------------

--
-- Table structure for table PAYMENTS
--

CREATE TABLE PAYMENTS (
	PAYMENT_ID int NOT NULL AUTO_INCREMENT,
    ID VARCHAR(255) NOT NULL,
    USER_ID int NOT NULL,
    RECEIPT VARCHAR(255) NOT NULL,
    PAYMENT VARCHAR(255) NOT NULL,
    TOTAL DOUBLE DEFAULT 0 NOT NULL,
    TRANSID VARCHAR(255),
    RETURNMSG MEDIUMBLOB,
    NOTES VARCHAR(255),
    TENDERED DOUBLE,
    CARDNAME VARCHAR(255),
    PRIMARY KEY (PAYMENT_ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE INDEX PAYMENTS_INX_1 ON PAYMENTS(PAYMENT);
